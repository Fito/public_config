#!/bin/bash

if [ $# -ne 3 ]
  then echo "Usage: make_release application_name application_module supervisor_module."
  exit
fi

APPLICATION=$1
APP=$2
SUP=$3

echo "Creating application " $APPLICATION

mkdir $APPLICATION
cd $APPLICATION
mkdir doc ebin include priv src
cd ebin
touch $1.app
echo "{application," $APPLICATION",
 [{description, \"\"},
  {vsn, \"0.1.0\"},
  {module, [
            "$APP",
            "$SUP"
           ]},
  {registered, ["$SUP"]},
  {applications, [kernel, stdlib]},
  {mod, {"$APP", []}}" > $1.app
 
echo "Finished creating application " $APPLICATION
